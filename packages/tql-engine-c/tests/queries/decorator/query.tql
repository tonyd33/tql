#language 'typescript'

fn decorator_name(@class_declaration) {
  @class_declaration.decorator > call_expression.function
}

fn main() {
  > class_declaration {
    @decorator_name <- decorator_name(*);
    @method_definition <- .body > method_definition;

    @method_name <- @method_definition.name;
    @class_name <- .name;
    @method_definition { !exists(*.return_type) } && (
      text_eq(@decorator_name, 'Controller') ||
      text_eq(@class_name, 'SpecificClassName')
    );
  }
}

