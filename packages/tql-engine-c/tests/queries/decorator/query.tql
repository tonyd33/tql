#language 'typescript'

fn decorator_name(@class_declaration) {
  @class_declaration.decorator > call_expression.function
}

fn method_without_return_type(@class_declaration) {
  @class_declaration.body > method_definition { !exists(*.return_type) }
}

fn main() {
  > class_declaration {
    @decorator_name <- decorator_name(*);
    @method <- method_without_return_type(*);

    text_eq(@decorator_name, 'Controller');
    @method_name <- @method.name;
    @class_name <- .name;
  }
}

